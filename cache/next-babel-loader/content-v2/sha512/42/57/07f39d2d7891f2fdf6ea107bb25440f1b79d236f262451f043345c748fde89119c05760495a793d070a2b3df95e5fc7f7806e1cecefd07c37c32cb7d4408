{"ast":null,"code":"import _defineProperty from \"E:/corporate-website/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState, useCallback, useEffect } from 'react';\nimport Image from 'next/image';\nimport { useTranslation } from \"next-export-i18n\";\nimport styles from './CTA.module.scss';\nimport Form from '../../CTAForm/Form';\nimport Modal from '../../modal/Modal.js';\nimport cn from 'classnames';\nimport { FORM_NAMES } from '../../../config/constants';\nimport SendEmail from '../../../services/sendEmail';\nimport validator from '../../../utils/validation/validateEmail';\nimport setBackground from '../../../utils/setBackground';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar CTA = function CTA(_ref) {\n  var CTATitle = _ref.CTATitle,\n      topTitle = _ref.topTitle,\n      inputClass = _ref.inputClass,\n      wrapperClass = _ref.wrapperClass;\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var CTAForm = t('CTAForm');\n  var submitForm = t('submitForm');\n  var getInTouchModalText = t('getInTouchModalText');\n\n  var _useState = useState(false),\n      modal = _useState[0],\n      setModal = _useState[1];\n\n  var toggle = function toggle() {\n    return setModal(!modal);\n  };\n\n  var _useState2 = useState({\n    name: '',\n    email: '',\n    message: '',\n    formName: FORM_NAMES.PAGES_FORM\n  }),\n      values = _useState2[0],\n      setValues = _useState2[1];\n\n  var _useState3 = useState(''),\n      error = _useState3[0],\n      setError = _useState3[1];\n\n  useEffect(function () {\n    setError('');\n  }, [values.email]);\n  var handleChange = useCallback(function (_ref2) {\n    var target = _ref2.target;\n    setValues(_objectSpread(_objectSpread({}, values), {}, _defineProperty({}, target.name, target.value)));\n  }, [setValues, values]);\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n\n    if (validator.validate(values.email)) {\n      SendEmail.send(values);\n      setValues({\n        name: '',\n        email: '',\n        message: '',\n        formName: FORM_NAMES.PAGES_FORM\n      });\n      setModal(!modal);\n    } else {\n      setError('Invalid email address!');\n      return;\n    }\n  };\n\n  var messageImages = {\n    mb: '/images/CTA/cloudMob.png',\n    tabl: '/images/CTA/cloudTabl.png',\n    desk: '/images/CTA/cloudDesk.png'\n  };\n  var ceoImages = {\n    mb: '/images/CTA/ceoMob.png',\n    tabl: '/images/CTA/ceoTabl.png',\n    desk: '/images/CTA/ceoDesk.png'\n  };\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: cn(styles.wrapper, wrapperClass),\n    children: [topTitle && /*#__PURE__*/_jsx(\"div\", {\n      className: styles.mainTitle,\n      children: /*#__PURE__*/_jsx(\"span\", {\n        dangerouslySetInnerHTML: {\n          __html: topTitle\n        }\n      })\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: styles.photosWrapper,\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: styles.ceoWrapper,\n        children: /*#__PURE__*/_jsx(Image, {\n          layout: \"fill\",\n          src: setBackground(ceoImages),\n          alt: \"img\",\n          quality: 20\n        })\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: styles.messageWrapper,\n        children: [/*#__PURE__*/_jsx(Image, {\n          layout: \"fill\",\n          src: setBackground(messageImages),\n          alt: \"img\",\n          quality: 75\n        }), /*#__PURE__*/_jsxs(\"p\", {\n          children: [/*#__PURE__*/_jsx(\"span\", {\n            children: t('CTAMessage.name')\n          }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(\"span\", {\n            children: t('CTAMessage.position')\n          }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(\"span\", {\n            children: t('CTAMessage.message')\n          })]\n        })]\n      })]\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: styles.formWrapper,\n      children: [/*#__PURE__*/_jsx(\"h3\", {\n        children: CTATitle\n      }), /*#__PURE__*/_jsx(Form, {\n        data: CTAForm,\n        btnTitle: submitForm,\n        values: values,\n        formClassName: inputClass,\n        handleChange: handleChange,\n        handleSubmit: handleSubmit,\n        errors: {\n          email: error\n        }\n      }), modal && /*#__PURE__*/_jsx(Modal, {\n        toggle: toggle,\n        modal: modal,\n        bodyText: getInTouchModalText\n      })]\n    })]\n  });\n};\n\nexport default CTA;","map":null,"metadata":{},"sourceType":"module"}