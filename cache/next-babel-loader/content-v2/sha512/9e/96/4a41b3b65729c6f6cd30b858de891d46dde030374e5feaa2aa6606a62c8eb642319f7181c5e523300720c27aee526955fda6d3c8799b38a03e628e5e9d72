{"ast":null,"code":"import _classCallCheck from \"E:/corporate-website/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:/corporate-website/node_modules/next/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport api from './api';\nimport Post from '../assets/data/blogArticles.json';\n\nvar Subscription = /*#__PURE__*/function () {\n  function Subscription() {\n    _classCallCheck(this, Subscription);\n  }\n\n  _createClass(Subscription, null, [{\n    key: \"subscribe\",\n    value: function subscribe(email, setConfirmed, setEmail, setError) {\n      var _Post, _Post2, _Post3, _Post4, _Post5;\n\n      api.post('/api/subscribe', {\n        email: email,\n        lastPost: {\n          title: (_Post = Post[Post.length - 1]) === null || _Post === void 0 ? void 0 : _Post.title,\n          id: (_Post2 = Post[Post.length - 1]) === null || _Post2 === void 0 ? void 0 : _Post2.id\n        },\n        anotherLastPost: [(_Post3 = Post[Post.length - 2]) === null || _Post3 === void 0 ? void 0 : _Post3.id, (_Post4 = Post[Post.length - 3]) === null || _Post4 === void 0 ? void 0 : _Post4.id, (_Post5 = Post[Post.length - 4]) === null || _Post5 === void 0 ? void 0 : _Post5.id]\n      }).then(function () {\n        setConfirmed(true);\n        setEmail('');\n      })[\"catch\"](function () {\n        return setError('internal server error, please try later');\n      });\n    }\n  }]);\n\n  return Subscription;\n}();\n\nexport { Subscription as default };","map":{"version":3,"sources":["E:/corporate-website/services/subscription.js"],"names":["api","Post","Subscription","email","setConfirmed","setEmail","setError","post","lastPost","title","length","id","anotherLastPost","then"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,OAAhB;AACA,OAAOC,IAAP,MAAiB,kCAAjB;;IAEqBC,Y;;;;;;;WACnB,mBAAiBC,KAAjB,EAAwBC,YAAxB,EAAsCC,QAAtC,EAAgDC,QAAhD,EAA0D;AAAA;;AACxDN,MAAAA,GAAG,CACAO,IADH,CACQ,gBADR,EAC0B;AACtBJ,QAAAA,KAAK,EAALA,KADsB;AAEtBK,QAAAA,QAAQ,EAAE;AACRC,UAAAA,KAAK,WAAER,IAAI,CAACA,IAAI,CAACS,MAAL,GAAc,CAAf,CAAN,0CAAE,MAAuBD,KADtB;AAERE,UAAAA,EAAE,YAAEV,IAAI,CAACA,IAAI,CAACS,MAAL,GAAc,CAAf,CAAN,2CAAE,OAAuBC;AAFnB,SAFY;AAMtBC,QAAAA,eAAe,EAAE,WACfX,IAAI,CAACA,IAAI,CAACS,MAAL,GAAc,CAAf,CADW,2CACf,OAAuBC,EADR,YAEfV,IAAI,CAACA,IAAI,CAACS,MAAL,GAAc,CAAf,CAFW,2CAEf,OAAuBC,EAFR,YAGfV,IAAI,CAACA,IAAI,CAACS,MAAL,GAAc,CAAf,CAHW,2CAGf,OAAuBC,EAHR;AANK,OAD1B,EAaGE,IAbH,CAaQ,YAAM;AACVT,QAAAA,YAAY,CAAC,IAAD,CAAZ;AACAC,QAAAA,QAAQ,CAAC,EAAD,CAAR;AACD,OAhBH,WAiBS;AAAA,eAAMC,QAAQ,CAAC,yCAAD,CAAd;AAAA,OAjBT;AAkBD;;;;;;SApBkBJ,Y","sourcesContent":["import api from './api';\r\nimport Post from '../assets/data/blogArticles.json';\r\n\r\nexport default class Subscription {\r\n  static subscribe(email, setConfirmed, setEmail, setError) {\r\n    api\r\n      .post('/api/subscribe', {\r\n        email,\r\n        lastPost: {\r\n          title: Post[Post.length - 1]?.title,\r\n          id: Post[Post.length - 1]?.id,\r\n        },\r\n        anotherLastPost: [\r\n          Post[Post.length - 2]?.id,\r\n          Post[Post.length - 3]?.id,\r\n          Post[Post.length - 4]?.id,\r\n        ],\r\n      })\r\n      .then(() => {\r\n        setConfirmed(true);\r\n        setEmail('');\r\n      })\r\n      .catch(() => setError('internal server error, please try later'));\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}