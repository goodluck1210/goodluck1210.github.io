{"ast":null,"code":"var _jsxFileName = \"E:\\\\corporate-website\\\\pages\\\\blog\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport Head from 'next/head';\nimport { useRouter } from 'next/router';\nimport Fuse from 'fuse.js';\nimport { useDebouncedCallback } from 'use-debounce';\nimport validator from '../../utils/validation/validateEmail';\nimport { MainLayoutBorders } from '../../components/MainLayout/MainLayoutBorders';\nimport ArticlePreview from '../../components/Blog/ArticlePreview/ArticlePreview';\nimport Subscription from '../../components/Blog/Subscription/Subscription';\nimport Header from '../../components/Blog/Header/Header';\nimport PaginationComp from '../../components/Blog/Pagination/Pagination';\nimport CTA from '../../components/ReusableComponents/CTA/CTA';\nimport { en } from '../../config/en.js';\nimport { meta } from '../../config/metadata';\nimport routing from '../../config/routing';\nimport SubscriptionService from '../../services/subscription';\nimport { fuseOptions, blogFilters } from '../../config/constants';\nimport styles from '../../styles/pages/blog.module.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Blog(_ref) {\n  _s();\n\n  var blogArticles = _ref.blogArticles,\n      canonicalLink = _ref.canonicalLink;\n  var blog = en.blog,\n      receiveNotifications = en.receiveNotifications,\n      subscribe = en.subscribe;\n  var filteredByCategories = [];\n\n  var _useState = useState(''),\n      email = _useState[0],\n      setEmail = _useState[1];\n\n  var _useState2 = useState(''),\n      search = _useState2[0],\n      setSearch = _useState2[1];\n\n  var _useState3 = useState(''),\n      debouncedSearch = _useState3[0],\n      setDebouncedSearch = _useState3[1];\n\n  var _useState4 = useState(''),\n      error = _useState4[0],\n      setError = _useState4[1];\n\n  var _useState5 = useState(false),\n      isConfirmed = _useState5[0],\n      setConfirmed = _useState5[1];\n\n  var router = useRouter();\n  var query = router.query,\n      pathname = router.pathname,\n      asPath = router.asPath; //pagination\n\n  var pageNumber = query.page ? Number(query.page) : 1;\n  var PER_PAGE = 12;\n\n  var _useState6 = useState(0),\n      firstSliceValue = _useState6[0],\n      setFirstSliceValue = _useState6[1];\n\n  var _useState7 = useState(PER_PAGE),\n      secondSliceValue = _useState7[0],\n      setSecondSliceValue = _useState7[1];\n\n  useEffect(function () {\n    if (pageNumber > Math.ceil(filteredByCategories.length / PER_PAGE) || asPath.includes('page=1')) {\n      router.replace(pathname);\n    }\n  }, []);\n  useEffect(function () {\n    setFirstSliceValue(pageNumber * PER_PAGE - PER_PAGE);\n    setSecondSliceValue(pageNumber * PER_PAGE);\n  }, [pageNumber]); // end pagination\n\n  var category = router.pathname === routing().blog ? blogFilters[0].name : router.pathname.replace(\"\".concat(routing().blog, \"/\"), '');\n  var uppercaseCategory = \"\".concat(category[0].toUpperCase()).concat(category.slice(1));\n  var currentArticle = blogFilters.find(function (item) {\n    return item.name === category;\n  }); // filtration by search or categories\n\n  blogArticles.filter(function (article) {\n    if (category === blogFilters[0].name) {\n      filteredByCategories.push(article);\n    }\n\n    if (article.category.some(function (cat) {\n      return cat.toLowerCase() === category;\n    })) {\n      filteredByCategories.push(article);\n    }\n\n    if (search === '') {\n      return blogArticles;\n    }\n\n    if (debouncedSearch) {\n      var fuse = new Fuse(filteredByCategories, fuseOptions);\n      filteredByCategories = fuse.search(debouncedSearch).map(function (el) {\n        return el.item;\n      });\n      return filteredByCategories;\n    }\n\n    return filteredByCategories;\n  });\n  var handleDebounseSearch = useDebouncedCallback(function (value) {\n    setDebouncedSearch(value);\n  }, 400);\n\n  var handleSearchChange = function handleSearchChange(value) {\n    setSearch(value);\n    handleDebounseSearch.callback(value);\n  };\n\n  var handleSubscriptionChange = function handleSubscriptionChange(_ref2) {\n    var target = _ref2.target;\n\n    if (error) {\n      setError('');\n    }\n\n    setEmail(target.value);\n  };\n\n  useEffect(function () {\n    if (validator.validate(email)) {\n      setError('');\n    }\n  }, [email]);\n\n  var handleSubmit = function handleSubmit() {\n    if (validator.validate(email)) {\n      SubscriptionService.subscribe(email, setConfirmed, setEmail, setError);\n    } else {\n      setError('Invalid email address!');\n      return;\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(MainLayoutBorders, {\n    children: [/*#__PURE__*/_jsxDEV(Head, {\n      children: [/*#__PURE__*/_jsxDEV(\"title\", {\n        children: [currentArticle.metaTitle || \"Software Development Company Blog \".concat(uppercaseCategory), ' ', \"- Page \", pageNumber, \" | WTT Solutions\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n        name: \"description\",\n        content: \"\".concat(meta.blogDescription, \" \").concat(uppercaseCategory === 'All' ? '' : \"- \".concat(uppercaseCategory), \" | Page \").concat(pageNumber)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n        rel: \"canonical\",\n        href: canonicalLink || 'https://wtt-solutions.com/blog'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.headerWrapper,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: styles.blog,\n        children: [blog, \" \", uppercaseCategory !== 'All' ? uppercaseCategory : '', ' ', (uppercaseCategory === 'All' || uppercaseCategory === 'Insights') && \"page \".concat(pageNumber)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Header, {\n        handleChange: function handleChange(e) {\n          return handleSearchChange(e.target.value);\n        },\n        setSearchValue: setSearch,\n        searchValue: search\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.contentWrapper,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.middleLine\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.deskLines,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ArticlePreview, {\n        data: filteredByCategories.slice(firstSliceValue, secondSliceValue),\n        searchValue: debouncedSearch,\n        activeFilter: category\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this), filteredByCategories.length > PER_PAGE && /*#__PURE__*/_jsxDEV(PaginationComp, {\n        pathname: pathname,\n        totalPages: Math.ceil(filteredByCategories.length / PER_PAGE),\n        pageNumber: pageNumber\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Subscription, {\n        error: error,\n        emailValue: email,\n        handleChange: handleSubscriptionChange,\n        handleSubmit: handleSubmit,\n        title: receiveNotifications,\n        btnTitle: subscribe,\n        isConfirmed: isConfirmed\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CTA, {\n      CTATitle: en.CTATitle\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Blog, \"TTO/t/wNtGnekVAI3737VBDYcWY=\", false, function () {\n  return [useRouter, useDebouncedCallback];\n});\n\n_c = Blog;\nexport var __N_SSP = true;\nexport default Blog;\n\nvar _c;\n\n$RefreshReg$(_c, \"Blog\");","map":{"version":3,"sources":["E:/corporate-website/pages/blog/index.js"],"names":["useState","useEffect","Head","useRouter","Fuse","useDebouncedCallback","validator","MainLayoutBorders","ArticlePreview","Subscription","Header","PaginationComp","CTA","en","meta","routing","SubscriptionService","fuseOptions","blogFilters","styles","Blog","blogArticles","canonicalLink","blog","receiveNotifications","subscribe","filteredByCategories","email","setEmail","search","setSearch","debouncedSearch","setDebouncedSearch","error","setError","isConfirmed","setConfirmed","router","query","pathname","asPath","pageNumber","page","Number","PER_PAGE","firstSliceValue","setFirstSliceValue","secondSliceValue","setSecondSliceValue","Math","ceil","length","includes","replace","category","name","uppercaseCategory","toUpperCase","slice","currentArticle","find","item","filter","article","push","some","cat","toLowerCase","fuse","map","el","handleDebounseSearch","value","handleSearchChange","callback","handleSubscriptionChange","target","validate","handleSubmit","metaTitle","blogDescription","headerWrapper","e","contentWrapper","middleLine","deskLines","CTATitle"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\r\nimport Head from 'next/head';\r\nimport { useRouter } from 'next/router';\r\nimport Fuse from 'fuse.js';\r\nimport { useDebouncedCallback } from 'use-debounce';\r\nimport validator from '../../utils/validation/validateEmail';\r\n\r\nimport { MainLayoutBorders } from '../../components/MainLayout/MainLayoutBorders';\r\nimport ArticlePreview from '../../components/Blog/ArticlePreview/ArticlePreview';\r\nimport Subscription from '../../components/Blog/Subscription/Subscription';\r\nimport Header from '../../components/Blog/Header/Header';\r\nimport PaginationComp from '../../components/Blog/Pagination/Pagination';\r\nimport CTA from '../../components/ReusableComponents/CTA/CTA';\r\n\r\nimport blogArticles from '../../assets/data/blogArticles.json';\r\nimport { en } from '../../config/en.js';\r\nimport { meta } from '../../config/metadata';\r\nimport routing from '../../config/routing';\r\nimport SubscriptionService from '../../services/subscription';\r\nimport { fuseOptions, blogFilters } from '../../config/constants';\r\n\r\nimport styles from '../../styles/pages/blog.module.scss';\r\n\r\nfunction Blog({ blogArticles, canonicalLink }) {\r\n  const { blog, receiveNotifications, subscribe } = en;\r\n  let filteredByCategories = [];\r\n\r\n  const [email, setEmail] = useState('');\r\n  const [search, setSearch] = useState('');\r\n  const [debouncedSearch, setDebouncedSearch] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [isConfirmed, setConfirmed] = useState(false);\r\n\r\n  const router = useRouter();\r\n  const { query, pathname, asPath } = router;\r\n\r\n  //pagination\r\n  const pageNumber = query.page ? Number(query.page) : 1;\r\n  const PER_PAGE = 12;\r\n  const [firstSliceValue, setFirstSliceValue] = useState(0);\r\n  const [secondSliceValue, setSecondSliceValue] = useState(PER_PAGE);\r\n\r\n  useEffect(() => {\r\n    if (\r\n      pageNumber > Math.ceil(filteredByCategories.length / PER_PAGE) ||\r\n      asPath.includes('page=1')\r\n    ) {\r\n      router.replace(pathname);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setFirstSliceValue(pageNumber * PER_PAGE - PER_PAGE);\r\n    setSecondSliceValue(pageNumber * PER_PAGE);\r\n  }, [pageNumber]);\r\n\r\n  // end pagination\r\n\r\n  const category =\r\n    router.pathname === routing().blog\r\n      ? blogFilters[0].name\r\n      : router.pathname.replace(`${routing().blog}/`, '');\r\n  const uppercaseCategory = `${category[0].toUpperCase()}${category.slice(1)}`;\r\n  const currentArticle = blogFilters.find((item) => item.name === category);\r\n\r\n  // filtration by search or categories\r\n  blogArticles.filter((article) => {\r\n    if (category === blogFilters[0].name) {\r\n      filteredByCategories.push(article);\r\n    }\r\n    if (article.category.some((cat) => cat.toLowerCase() === category)) {\r\n      filteredByCategories.push(article);\r\n    }\r\n    if (search === '') {\r\n      return blogArticles;\r\n    }\r\n    if (debouncedSearch) {\r\n      const fuse = new Fuse(filteredByCategories, fuseOptions);\r\n      filteredByCategories = fuse.search(debouncedSearch).map((el) => el.item);\r\n      return filteredByCategories;\r\n    }\r\n    return filteredByCategories;\r\n  });\r\n\r\n  const handleDebounseSearch = useDebouncedCallback((value) => {\r\n    setDebouncedSearch(value);\r\n  }, 400);\r\n\r\n  const handleSearchChange = (value) => {\r\n    setSearch(value);\r\n    handleDebounseSearch.callback(value);\r\n  };\r\n\r\n  const handleSubscriptionChange = ({ target }) => {\r\n    if (error) {\r\n      setError('');\r\n    }\r\n    setEmail(target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (validator.validate(email)) {\r\n      setError('');\r\n    }\r\n  }, [email]);\r\n\r\n  const handleSubmit = () => {\r\n    if (validator.validate(email)) {\r\n      SubscriptionService.subscribe(email, setConfirmed, setEmail, setError);\r\n    } else {\r\n      setError('Invalid email address!');\r\n      return;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainLayoutBorders>\r\n      <Head>\r\n        <title>\r\n          {currentArticle.metaTitle ||\r\n            `Software Development Company Blog ${uppercaseCategory}`}{' '}\r\n          - Page {pageNumber} | WTT Solutions\r\n        </title>\r\n        <meta\r\n          name=\"description\"\r\n          content={`${meta.blogDescription} ${\r\n            uppercaseCategory === 'All' ? '' : `- ${uppercaseCategory}`\r\n          } | Page ${pageNumber}`}\r\n        />\r\n        <link\r\n          rel=\"canonical\"\r\n          href={canonicalLink || 'https://wtt-solutions.com/blog'}\r\n        />\r\n      </Head>\r\n      <div className={styles.headerWrapper}>\r\n        <h1 className={styles.blog}>\r\n          {blog} {uppercaseCategory !== 'All' ? uppercaseCategory : ''}{' '}\r\n          {(uppercaseCategory === 'All' || uppercaseCategory === 'Insights') &&\r\n            `page ${pageNumber}`}\r\n        </h1>\r\n        <Header\r\n          handleChange={(e) => handleSearchChange(e.target.value)}\r\n          setSearchValue={setSearch}\r\n          searchValue={search}\r\n        />\r\n      </div>\r\n      <div className={styles.contentWrapper}>\r\n        <div className={styles.middleLine}></div>\r\n        <div className={styles.deskLines}>\r\n          <div></div>\r\n          <div></div>\r\n        </div>\r\n\r\n        <ArticlePreview\r\n          data={filteredByCategories.slice(firstSliceValue, secondSliceValue)}\r\n          searchValue={debouncedSearch}\r\n          activeFilter={category}\r\n        />\r\n\r\n        {filteredByCategories.length > PER_PAGE && (\r\n          <PaginationComp\r\n            pathname={pathname}\r\n            totalPages={Math.ceil(filteredByCategories.length / PER_PAGE)}\r\n            pageNumber={pageNumber}\r\n          />\r\n        )}\r\n\r\n        <Subscription\r\n          error={error}\r\n          emailValue={email}\r\n          handleChange={handleSubscriptionChange}\r\n          handleSubmit={handleSubmit}\r\n          title={receiveNotifications}\r\n          btnTitle={subscribe}\r\n          isConfirmed={isConfirmed}\r\n        />\r\n      </div>\r\n      <CTA CTATitle={en.CTATitle} />\r\n    </MainLayoutBorders>\r\n  );\r\n}\r\n\r\nexport async function getServerSideProps() {\r\n  blogArticles.sort(\r\n    (a, b) => new Date(b.date).getTime() - new Date(a.date).getTime() //sort articles by date\r\n  );\r\n  return {\r\n    props: {\r\n      blogArticles,\r\n    },\r\n  };\r\n}\r\n\r\nexport default Blog;\r\n"]},"metadata":{},"sourceType":"module"}