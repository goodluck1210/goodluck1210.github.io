{"ast":null,"code":"import { useCallback, useMemo, useState } from 'react';\nimport Image from 'next/image';\nimport Carousel from '../../ReusableComponents/Carousel/Carousel';\nimport cn from 'classnames';\nimport useWindowSize from '../../../hooks/useWindowSize';\nimport IndustriesFilter from '../../../components/IndustriesFilter/IndustriesFilter';\nimport setBackground from '../../../utils/setBackground';\nimport styles from './AboutAuthor.module.scss';\nimport { Article } from '../ArticlePreview/ArticlePreview';\nimport { SOCIAL_NETWORKS_LINKS, blogFilters } from '../../../config/constants';\nimport { AuthorPageShema } from '../../../utils/microdata/index'; //icons\n\nimport SVG from '../../../assets/sprites/authorSocialSprite';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst AboutAuthor = ({\n  data,\n  articles\n}) => {\n  const {\n    width\n  } = useWindowSize();\n  const {\n    title,\n    name,\n    position,\n    signaturePosition,\n    biography,\n    seoImages,\n    articlesTitle,\n    specialties,\n    socialNetworks\n  } = data;\n  const BLOG_FILTERS = ['all', 'martech', 'edtech', 'hrtech', 'insights'];\n  const {\n    FACEBOOK,\n    TWITTER,\n    LINKEDIN\n  } = SOCIAL_NETWORKS_LINKS;\n  const {\n    0: activeFilter,\n    1: setActiveFilter\n  } = useState(blogFilters[0].name);\n  const filteredArticles = useMemo(() => {\n    if (activeFilter === 'all') {\n      return articles;\n    } else {\n      return articles.filter(article => {\n        return article.category.includes(activeFilter);\n      });\n    }\n  }, [activeFilter]);\n  const foundLength = useCallback(type => {\n    if (type === 'all') {\n      return articles.length;\n    } else {\n      return articles.filter(item => {\n        return item.category.find(el => el.toLowerCase() === type.toLowerCase());\n      }).length;\n    }\n  }, [articles]);\n  const slides = filteredArticles.map(el => /*#__PURE__*/_jsx(Article, {\n    data: el\n  }));\n  const config = {\n    superLargeDesktop: {\n      breakpoint: {\n        max: 4000,\n        min: 3000\n      },\n      items: 5\n    },\n    desktop: {\n      breakpoint: {\n        max: 3000,\n        min: 1200\n      },\n      items: 3\n    },\n    tablet: {\n      breakpoint: {\n        max: 1199,\n        min: 768\n      },\n      items: 2\n    },\n    mobile: {\n      breakpoint: {\n        max: 767,\n        min: 0\n      },\n      items: 1\n    }\n  };\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: styles.wrapper,\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      className: styles.topWrapper,\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: styles.screenWrapper,\n        children: /*#__PURE__*/_jsx(Image, {\n          layout: \"fill\",\n          src: setBackground(seoImages),\n          alt: name,\n          quality: 100\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: cn(styles.shadowCircle, styles.shadowCircle1)\n      }), /*#__PURE__*/_jsx(\"img\", {\n        className: styles.dots1,\n        src: \"/images/blog/aboutAuthor/dots.png\",\n        alt: \"dots\"\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: styles.titleWrapper,\n        children: [/*#__PURE__*/_jsx(\"h1\", {\n          children: title\n        }), /*#__PURE__*/_jsx(\"h2\", {\n          children: position\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: styles.linksWrapper,\n        children: [/*#__PURE__*/_jsx(\"a\", {\n          href: (socialNetworks === null || socialNetworks === void 0 ? void 0 : socialNetworks.facebook) || FACEBOOK,\n          target: \"_blank\",\n          children: /*#__PURE__*/_jsx(SVG, {\n            id: \"facebook-icon\"\n          })\n        }), /*#__PURE__*/_jsx(\"a\", {\n          href: (socialNetworks === null || socialNetworks === void 0 ? void 0 : socialNetworks.linkedin) || LINKEDIN,\n          target: \"_blank\",\n          children: /*#__PURE__*/_jsx(SVG, {\n            id: \"linkedin-icon\"\n          })\n        }), /*#__PURE__*/_jsx(\"a\", {\n          href: (socialNetworks === null || socialNetworks === void 0 ? void 0 : socialNetworks.twitter) || TWITTER,\n          target: \"_blank\",\n          children: /*#__PURE__*/_jsx(SVG, {\n            id: \"twitter-icon\"\n          })\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: styles.biographyWrapper,\n        children: [biography.map(text => /*#__PURE__*/_jsx(\"p\", {\n          dangerouslySetInnerHTML: {\n            __html: text\n          }\n        })), /*#__PURE__*/_jsx(\"span\", {\n          children: name\n        }), /*#__PURE__*/_jsx(\"span\", {\n          children: signaturePosition || position\n        })]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: cn(styles.shadowCircle, styles.shadowCircle2)\n      }), /*#__PURE__*/_jsx(\"img\", {\n        className: styles.dots2,\n        src: \"/images/blog/aboutAuthor/dots.png\",\n        alt: \"dots\"\n      })]\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: styles.specialties,\n      children: [/*#__PURE__*/_jsx(\"h3\", {\n        children: \"His specialties\"\n      }), /*#__PURE__*/_jsx(\"ul\", {\n        className: styles.list,\n        children: specialties.map((item, i) => /*#__PURE__*/_jsxs(\"li\", {\n          className: styles.item,\n          children: [/*#__PURE__*/_jsx(\"img\", {\n            src: \"/images/elements/listBullet.svg\",\n            alt: \"dots\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            children: item\n          })]\n        }, i))\n      })]\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: styles.articlesWrapper,\n      children: [/*#__PURE__*/_jsx(\"h3\", {\n        children: articlesTitle\n      }), /*#__PURE__*/_jsx(IndustriesFilter, {\n        foundLength: foundLength,\n        activeFilter: activeFilter,\n        filterArray: BLOG_FILTERS,\n        setActiveFilter: setActiveFilter,\n        className: styles.filters\n      }), BLOG_FILTERS.map(el => {\n        if (activeFilter === el) {\n          return /*#__PURE__*/_jsx(Carousel, {\n            slides: slides,\n            config: config,\n            data: filteredArticles,\n            containerClass: styles.carousel,\n            carouselControlsClass: styles.carouselControl,\n            doubledItems: width >= 768 && width < 1200,\n            tripleItems: width >= 1200,\n            isControls: !(width >= 1200 && filteredArticles.length <= 3) && !(width >= 768 && width < 1200 && filteredArticles.length <= 2) && !(width < 768 && filteredArticles.length <= 1)\n          });\n        }\n      })]\n    }), /*#__PURE__*/_jsx(\"script\", {\n      type: \"application/ld+json\",\n      dangerouslySetInnerHTML: {\n        __html: JSON.stringify(AuthorPageShema(data))\n      }\n    })]\n  });\n};\n\nexport default AboutAuthor;","map":null,"metadata":{},"sourceType":"module"}